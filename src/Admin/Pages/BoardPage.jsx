/* eslint-disable react-hooks/exhaustive-deps */
/* eslint-disable no-unused-vars */
import { useEffect, useState } from "react";
import "../css/boardPage.css";
import PaymentChart from "../Components/PaymentChart";
import axiosInstance, { baseURl } from "../../utils/utils";
import "../../css/loader.css";
import {
  Abonnements_proposés,
  Cours_termminés,
  Elèves_abonnés,
  abonnementAbonne,
  anuuler,
  validé,
} from "../../assets";

const BoardPage = () => {
  const [startDate, setStartDate] = useState("2023-07-07T00:00:00.000Z");
  const [endDate, setEndDate] = useState("2023-08-07T23:59:59.999Z");
  const [lastFourWeeks, setLastFourWeeks] = useState(false);
  const [lastFourMonths, setLastFourMonths] = useState(false);
  const [months, setMonths] = useState();
  const [firstMonth, setFirstMonth] = useState();
  const [secondMonth, setSecondMonth] = useState();
  const [thirdMonth, setThirdMonth] = useState();
  const [fourthMonth, setFourthMonth] = useState();
  const [weeks, setWeeks] = useState();
  const [firstWeek, setFirstWeek] = useState();
  const [secondWeek, setSecondWeek] = useState();
  const [thirdWeek, setThirdWeek] = useState();
  const [fourthWeek, setFourthWeek] = useState();
  const [date, setDate] = useState();
  const [loading, setLoading] = useState(false);

  const [data, setData] = useState({});
  // get data
  const getData = async () => {
    try {
      const response = await axiosInstance.get(
        `${baseURl}/log/admin/dashboard?startDate=${startDate}&endDate=${endDate}`
      );
      console.log(response);
      setData(response.data);
    } catch (error) {
      console.log(error);
    }
  };

  // get payment data
  const getPaymentData = async () => {
    try {
      setLoading(true);
      const response = await axiosInstance.get(
        `${baseURl}/payment/admin/dashboard?${
          lastFourMonths ? `lastFourMonths=${lastFourMonths}` : ""
        }${lastFourWeeks ? `&lastFourWeeks=${lastFourWeeks}` : ""}${
          startDate ? `&startDate=${startDate}` : ""
        }${endDate ? `&endDate=${endDate}` : ""}`
      );
      console.log(response);
      if (lastFourWeeks) {
        setWeeks(response?.data);
        setFirstWeek(response?.data?.firstWeek);
        setSecondWeek(response?.data?.secondWeek);
        setThirdWeek(response?.data?.thirdWeek);
        setFourthWeek(response?.data?.fourthWeek);
      }
      if (lastFourMonths) {
        setMonths(response?.data);
        setFirstMonth(response?.data?.firstMonth);
        setSecondMonth(response?.data?.secondMonth);
        setThirdMonth(response?.data?.thirdMonth);
        setFourthMonth(response?.data?.fourthMonth);
      }
      if (startDate && endDate) {
        setDate(response?.data);
      }
      setLoading(false);
    } catch (error) {
      console.log(error);
    }
  };

  useEffect(() => {
    getData();
    getPaymentData();
  }, [startDate, endDate, lastFourWeeks, lastFourMonths]);
  return (
    <>
      <div className="admin_section">
        <div className="admin_sections_header">
          <h2 className="admin_section_title">Statistiques générales </h2>
          <div className="admin_time_filter">
            <div className="radio_container">
              <input type="radio" name="date_range" value="Semaine" />
              <label htmlFor="date_range">Semaine</label>
            </div>
            <div className="radio_container">
              <input type="radio" name="date_range" value="Mois" />
              <label htmlFor="date_range">Mois</label>
            </div>
            <div className="radio_container">
              <input type="radio" name="date_range" value="Mois" />
              <label htmlFor="date_range">Période</label>
            </div>
            <div className="radio_container">
              <label>Du:</label>
              <div className="date_picker_container">
                <input
                  type="date"
                  onChange={(e) => {
                    const date = e.target.value + "T00:00:00.000Z";
                    setStartDate(date);
                    setLastFourMonths(false);
                    setLastFourWeeks(false);
                  }}
                />
                <img src="../assets/clock_calender.svg" />
              </div>
            </div>
            <div className="radio_container">
              <label>Au:</label>
              <div className="date_picker_container">
                <input
                  type="date"
                  onChange={(e) => {
                    const date = e.target.value + "T23:59:59.999Z";
                    setEndDate(date);
                    setLastFourMonths(false);
                    setLastFourWeeks(false);
                  }}
                />
                <img src="../assets/clock_calender.svg" />
              </div>
            </div>
          </div>
        </div>
        <div className="cards_rows">
          <div className="admin_cards_list">
            <h3 className="list_label">Elève</h3>
            <div className="cards_container">
              <div className="card">
                <div className="text">
                  <h4 className="title">Elèves suspendus</h4>
                  <span className="def">
                    <img src="../assets/down.svg" />
                    -3.5%
                  </span>
                </div>
                <h3 className="value">{data.eleveSuspenduCount}</h3>
                <svg
                  width="36"
                  height="37"
                  viewBox="0 0 36 37"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M14.4 25.2996C15.39 25.2996 16.2 24.4896 16.2 23.4996V12.6996C16.2 11.7096 15.39 10.8996 14.4 10.8996C13.41 10.8996 12.6 11.7096 12.6 12.6996V23.4996C12.6 24.4896 13.41 25.2996 14.4 25.2996ZM18 0.0996094C8.064 0.0996094 0 8.16361 0 18.0996C0 28.0356 8.064 36.0996 18 36.0996C27.936 36.0996 36 28.0356 36 18.0996C36 8.16361 27.936 0.0996094 18 0.0996094ZM18 32.4996C10.062 32.4996 3.6 26.0376 3.6 18.0996C3.6 10.1616 10.062 3.69961 18 3.69961C25.938 3.69961 32.4 10.1616 32.4 18.0996C32.4 26.0376 25.938 32.4996 18 32.4996ZM21.6 25.2996C22.59 25.2996 23.4 24.4896 23.4 23.4996V12.6996C23.4 11.7096 22.59 10.8996 21.6 10.8996C20.61 10.8996 19.8 11.7096 19.8 12.6996V23.4996C19.8 24.4896 20.61 25.2996 21.6 25.2996Z"
                    fill="#EB001B"
                  />
                </svg>
              </div>
              <div className="card">
                <div className="text">
                  <h4 className="title">Elèves annulés</h4>
                  <span className="def">
                    <img src="../assets/down.svg" />
                    -3.5%
                  </span>
                </div>
                <h3 className="value">{data.eleveAnnuleCount}</h3>
                <svg
                  width="36"
                  height="37"
                  viewBox="0 0 36 37"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10.26 25.8396C10.59 26.1696 11.01 26.3346 11.52 26.3346C12.03 26.3346 12.45 26.1696 12.78 25.8396L18 20.6196L23.265 25.8846C23.595 26.2146 24.0078 26.3718 24.5034 26.3562C24.9978 26.3418 25.41 26.1696 25.74 25.8396C26.07 25.5096 26.235 25.0896 26.235 24.5796C26.235 24.0696 26.07 23.6496 25.74 23.3196L20.52 18.0996L25.785 12.8346C26.115 12.5046 26.2722 12.0918 26.2566 11.5962C26.2422 11.1018 26.07 10.6896 25.74 10.3596C25.41 10.0296 24.99 9.86461 24.48 9.86461C23.97 9.86461 23.55 10.0296 23.22 10.3596L18 15.5796L12.735 10.3146C12.405 9.98461 11.9928 9.82681 11.4984 9.84121C11.0028 9.85681 10.59 10.0296 10.26 10.3596C9.93 10.6896 9.765 11.1096 9.765 11.6196C9.765 12.1296 9.93 12.5496 10.26 12.8796L15.48 18.0996L10.215 23.3646C9.885 23.6946 9.7278 24.1068 9.7434 24.6012C9.7578 25.0968 9.93 25.5096 10.26 25.8396ZM18 36.0996C15.51 36.0996 13.17 35.6268 10.98 34.6812C8.79 33.7368 6.885 32.4546 5.265 30.8346C3.645 29.2146 2.3628 27.3096 1.4184 25.1196C0.4728 22.9296 0 20.5896 0 18.0996C0 15.6096 0.4728 13.2696 1.4184 11.0796C2.3628 8.88961 3.645 6.98461 5.265 5.36461C6.885 3.74461 8.79 2.46181 10.98 1.51621C13.17 0.571809 15.51 0.0996094 18 0.0996094C20.49 0.0996094 22.83 0.571809 25.02 1.51621C27.21 2.46181 29.115 3.74461 30.735 5.36461C32.355 6.98461 33.6372 8.88961 34.5816 11.0796C35.5272 13.2696 36 15.6096 36 18.0996C36 20.5896 35.5272 22.9296 34.5816 25.1196C33.6372 27.3096 32.355 29.2146 30.735 30.8346C29.115 32.4546 27.21 33.7368 25.02 34.6812C22.83 35.6268 20.49 36.0996 18 36.0996ZM18 32.4996C21.99 32.4996 25.3878 31.0974 28.1934 28.293C30.9978 25.4874 32.4 22.0896 32.4 18.0996C32.4 14.1096 30.9978 10.7118 28.1934 7.90621C25.3878 5.10181 21.99 3.69961 18 3.69961C14.01 3.69961 10.6128 5.10181 7.8084 7.90621C5.0028 10.7118 3.6 14.1096 3.6 18.0996C3.6 22.0896 5.0028 25.4874 7.8084 28.293C10.6128 31.0974 14.01 32.4996 18 32.4996Z"
                    fill="#FF4593"
                  />
                </svg>
              </div>
              <div className="card">
                <div className="text">
                  <h4 className="title">Elèves abonnés</h4>
                  <span className="def pos">
                    <img src="../assets/up.svg" />
                    +3.5%
                  </span>
                </div>
                <h3 className="value">{data.eleveAbonneCount}</h3>
                <svg
                  width="36"
                  height="37"
                  viewBox="0 0 36 37"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M35.0478 5.92756L18.4335 0.167286C18.1516 0.0770506 17.8501 0.0770506 17.5682 0.167286L0.97123 5.92756H0.936617L0.763551 6.01757H0.746245L0.573179 6.12557C0.573179 6.14357 0.555873 6.14357 0.538566 6.16158L0.400114 6.28758L0.278968 6.43159C0.278968 6.44959 0.261662 6.44959 0.261662 6.46759L0.157823 6.6296C0.157823 6.6476 0.157823 6.6476 0.140516 6.6656L0.07129 6.82761L0.0193705 7.02562V7.07962C0.0023 7.15016 -0.00354631 7.22313 0.00206389 7.29563V21.6963C0.00206389 22.0783 0.147933 22.4445 0.407581 22.7146C0.667229 22.9847 1.01939 23.1364 1.38659 23.1364C1.75378 23.1364 2.10594 22.9847 2.36559 22.7146C2.62524 22.4445 2.77111 22.0783 2.77111 21.6963V9.29373L8.5861 11.3098C7.49365 13.1286 6.9177 15.2316 6.92468 17.3761C6.92531 19.3265 7.40202 21.2448 8.31011 22.9513C9.21821 24.6577 10.528 26.0964 12.1166 27.1326C8.81524 28.4316 5.9968 30.7894 4.0691 33.8649C3.87261 34.1881 3.80604 34.5786 3.88374 34.9524C3.96143 35.3261 4.17716 35.6531 4.48446 35.863C4.63526 35.9669 4.80439 36.0387 4.98205 36.0741C5.15971 36.1096 5.34237 36.108 5.51944 36.0695C5.69651 36.031 5.86448 35.9563 6.0136 35.8498C6.16272 35.7433 6.29004 35.6071 6.38818 35.449C7.64485 33.4356 9.36548 31.7809 11.3936 30.6353C13.4217 29.4898 15.693 28.8897 18.0009 28.8897C20.3087 28.8897 22.58 29.4898 24.6081 30.6353C26.6362 31.7809 28.3569 33.4356 29.6135 35.449C29.7399 35.6486 29.9121 35.8124 30.1145 35.9255C30.317 36.0386 30.5433 36.0976 30.7731 36.097C31.0383 36.0999 31.298 36.0183 31.5173 35.863C31.8246 35.6531 32.0403 35.3261 32.118 34.9524C32.1957 34.5786 32.1291 34.1881 31.9326 33.8649C30.0049 30.7894 27.1865 28.4316 23.8851 27.1326C25.4738 26.0964 26.7835 24.6577 27.6916 22.9513C28.5997 21.2448 29.0764 19.3265 29.077 17.3761C29.084 15.2316 28.5081 13.1286 27.4156 11.3098L35.0478 8.6637C35.3248 8.569 35.566 8.38576 35.737 8.1401C35.9079 7.89444 36 7.59891 36 7.29563C36 6.99235 35.9079 6.69682 35.737 6.45116C35.566 6.2055 35.3248 6.02226 35.0478 5.92756ZM26.308 17.3761C26.308 19.6677 25.4328 21.8654 23.8749 23.4858C22.317 25.1062 20.204 26.0165 18.0009 26.0165C15.7977 26.0165 13.6847 25.1062 12.1268 23.4858C10.5689 21.8654 9.69372 19.6677 9.69372 17.3761C9.69706 15.5323 10.2604 13.7368 11.3032 12.2459L17.5682 14.424C17.8492 14.5201 18.1525 14.5201 18.4335 14.424L24.6985 12.2459C25.7413 13.7368 26.3047 15.5323 26.308 17.3761ZM24.6985 9.22172H24.6812L18.0009 11.5438L11.3205 9.22172H11.3032L5.76514 7.29563L18.0009 3.04742L30.2366 7.29563L24.6985 9.22172Z"
                    fill="#4DC643"
                  />
                </svg>
              </div>
            </div>
          </div>
          <div className="admin_cards_list">
            <h3 className="list_label">Proffesseur</h3>
            <div className="cards_container">
              <div className="card">
                <div className="text">
                  <h4 className="title">Proffesseur inscrit</h4>
                  <span className="def pos">
                    <img src="../assets/up.svg" />
                    -3.5%
                  </span>
                </div>
                <h3 className="value">{data.profInscritCount}</h3>
                <svg
                  width="40"
                  height="40"
                  viewBox="0 0 40 40"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M28 4.63642H34C35.0609 4.63642 36.0783 5.04371 36.8284 5.76869C37.5786 6.49366 38 7.47694 38 8.50222V10.4351M28 35.5628H34C35.0609 35.5628 36.0783 35.1555 36.8284 34.4305C37.5786 33.7056 38 32.7223 38 31.697V29.7641M14.002 20.0996H14M38 20.0996H28M28 20.0996L32 16.2338M28 20.0996L32 23.9654M4.85 34.4572L16.85 37.9364C17.4474 38.1097 18.0784 38.1456 18.6927 38.0412C19.3069 37.9368 19.8874 37.6951 20.3878 37.3352C20.8882 36.9754 21.2946 36.5075 21.5745 35.9688C21.8544 35.4302 22.0001 34.8357 22 34.233V5.96626C22.0001 5.36348 21.8544 4.76903 21.5745 4.23038C21.2946 3.69173 20.8882 3.2238 20.3878 2.86398C19.8874 2.50415 19.3069 2.26239 18.6927 2.15801C18.0784 2.05363 17.4474 2.08952 16.85 2.26282L4.85 5.74204C4.02604 5.98107 3.30377 6.47046 2.79038 7.1376C2.27698 7.80473 1.99981 8.61405 2 9.44547V30.7537C1.99981 31.5852 2.27698 32.3945 2.79038 33.0616C3.30377 33.7288 4.02604 34.2181 4.85 34.4572V34.4572Z"
                    stroke="#38B6FF"
                    strokeWidth="3"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                </svg>
              </div>
              <div className="card">
                <div className="text">
                  <h4 className="title">Professeur validé</h4>
                  <span className="def">
                    <img src="../assets/down.svg" />
                    -3.5%
                  </span>
                </div>
                <h3 className="value">{data.profValideCount}</h3>
                <svg
                  width="40"
                  height="40"
                  viewBox="0 0 40 40"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M23.6 33.287C30.3878 33.287 33.7826 33.287 35.8904 31.0025C38 28.72 38 25.0438 38 17.6933C38 10.3428 38 6.66661 35.8904 4.38409C33.7826 2.09961 30.3878 2.09961 23.6 2.09961H16.4C9.6122 2.09961 6.2174 2.09961 4.1096 4.38409C2 6.66661 2 10.3428 2 17.6933C2 25.0438 2 28.72 4.1096 31.0025C5.285 32.2773 6.86 32.8406 9.2 33.0882"
                    stroke="#4DC643"
                    strokeWidth="3"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                  <path
                    d="M14.6 17.6943L18.65 21.5927L25.4 13.7959"
                    stroke="#4DC643"
                    strokeWidth="3"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                  <path
                    d="M23.6 33.2861C21.3752 33.2861 18.9236 34.2607 16.6862 35.518C13.0898 37.5393 11.2916 38.5509 10.406 37.9058C9.52036 37.2625 9.68776 35.2646 10.0244 31.2706L10.1 30.3623"
                    stroke="#4DC643"
                    strokeWidth="3"
                    strokeLinecap="round"
                  />
                </svg>
              </div>
            </div>
          </div>
          <div className="admin_cards_list">
            <h3 className="list_label">Abonnment</h3>
            <div className="cards_container">
              <div className="card">
                <div className="text">
                  <h4 className="title">Abonnements abonnés</h4>
                  <span className="def pos">
                    <svg
                      width="15"
                      height="41"
                      viewBox="0 0 36 41"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M19.2072 24.479V28.3239C17.4688 27.7352 15.6083 27.5546 13.7819 27.7973C11.9556 28.04 10.2167 28.6989 8.71128 29.7187C7.20588 30.7385 5.97793 32.0893 5.13055 33.6578C4.28316 35.2263 3.84108 36.9667 3.84143 38.7327L4.96422e-07 38.7309C-0.000595641 36.4844 0.535729 34.2677 1.56788 32.2505C2.60003 30.2332 4.10061 28.4691 5.95464 27.0932C7.80867 25.7173 9.96694 24.7662 12.2641 24.3127C14.5612 23.8593 16.9362 23.9155 19.2072 24.4771V24.479ZM15.3657 22.1757C8.99856 22.1757 3.84143 17.2362 3.84143 11.1376C3.84143 5.03913 8.99856 0.0996094 15.3657 0.0996094C21.7329 0.0996094 26.89 5.03913 26.89 11.1376C26.89 17.2362 21.7329 22.1757 15.3657 22.1757ZM15.3657 18.4963C19.6105 18.4963 23.0486 15.2033 23.0486 11.1376C23.0486 7.07197 19.6105 3.77895 15.3657 3.77895C11.121 3.77895 7.68287 7.07197 7.68287 11.1376C7.68287 15.2033 11.121 18.4963 15.3657 18.4963ZM26.4925 34.8952L33.2822 28.3919L36 30.9932L26.4925 40.0996L19.7008 33.5945L22.4186 30.9932L26.4905 34.8952H26.4925Z"
                        fill="#4DC643"
                      />
                    </svg>
                    -3.5%
                  </span>
                </div>
                <h3 className="value">{data.abonnementAbonnesCount}</h3>
                <svg
                  width="36"
                  height="41"
                  viewBox="0 0 36 41"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M19.2072 24.479V28.3239C17.4688 27.7352 15.6083 27.5546 13.7819 27.7973C11.9556 28.04 10.2167 28.6989 8.71128 29.7187C7.20588 30.7385 5.97793 32.0893 5.13055 33.6578C4.28316 35.2263 3.84108 36.9667 3.84143 38.7327L4.96422e-07 38.7309C-0.000595641 36.4844 0.535729 34.2677 1.56788 32.2505C2.60003 30.2332 4.10061 28.4691 5.95464 27.0932C7.80867 25.7173 9.96694 24.7662 12.2641 24.3127C14.5612 23.8593 16.9362 23.9155 19.2072 24.4771V24.479ZM15.3657 22.1757C8.99856 22.1757 3.84143 17.2362 3.84143 11.1376C3.84143 5.03913 8.99856 0.0996094 15.3657 0.0996094C21.7329 0.0996094 26.89 5.03913 26.89 11.1376C26.89 17.2362 21.7329 22.1757 15.3657 22.1757ZM15.3657 18.4963C19.6105 18.4963 23.0486 15.2033 23.0486 11.1376C23.0486 7.07197 19.6105 3.77895 15.3657 3.77895C11.121 3.77895 7.68287 7.07197 7.68287 11.1376C7.68287 15.2033 11.121 18.4963 15.3657 18.4963ZM26.4925 34.8952L33.2822 28.3919L36 30.9932L26.4925 40.0996L19.7008 33.5945L22.4186 30.9932L26.4905 34.8952H26.4925Z"
                    fill="#4DC643"
                  />
                </svg>
              </div>
              <div className="card">
                <div className="text">
                  <h4 className="title">Abonnements proposés</h4>
                  <span className="def">
                    <img src="../assets/down.svg" />
                    -3.5%
                  </span>
                </div>
                <h3 className="value">{data.abonnementProposeCount}</h3>
                <svg
                  width="36"
                  height="37"
                  viewBox="0 0 36 37"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M29.1879 10.5452C29.0394 10.5452 28.8839 10.4986 28.7212 10.4053C28.5574 10.312 28.4458 10.1721 28.3864 9.98562L27.2288 7.37422L24.7355 6.16179C24.5574 6.09961 24.4238 5.98272 24.3348 5.81111C24.2457 5.64075 24.2012 5.47785 24.2012 5.32241C24.2012 5.16697 24.2457 5.00344 24.3348 4.83184C24.4238 4.66147 24.5574 4.54521 24.7355 4.48303L27.2288 3.27059L28.3864 0.659195C28.4458 0.472666 28.5574 0.33277 28.7212 0.239506C28.8839 0.146242 29.0394 0.0996094 29.1879 0.0996094C29.3363 0.0996094 29.4924 0.146242 29.6562 0.239506C29.8189 0.33277 29.9299 0.472666 29.9893 0.659195L31.1469 3.27059L33.6402 4.48303C33.8183 4.54521 33.9519 4.66147 34.041 4.83184C34.13 5.00344 34.1745 5.16697 34.1745 5.32241C34.1745 5.47785 34.13 5.64075 34.041 5.81111C33.9519 5.98272 33.8183 6.09961 33.6402 6.16179L31.1469 7.37422L29.9893 9.98562C29.9299 10.1721 29.8189 10.312 29.6562 10.4053C29.4924 10.4986 29.3363 10.5452 29.1879 10.5452ZM32.7498 23.6488C32.6013 23.6488 32.4529 23.6022 32.3045 23.5089C32.1561 23.4157 32.0374 23.2913 31.9483 23.1359L31.325 21.7369L29.9893 21.0841C29.9002 21.0219 29.737 20.7421 29.4995 20.2447C29.4995 20.0892 29.544 19.9338 29.6331 19.7784C29.7221 19.6229 29.8409 19.4986 29.9893 19.4053L31.325 18.7525L31.9483 17.3535C32.0077 17.2602 32.2748 17.0892 32.7498 16.8405C32.8982 16.8405 33.0466 16.8872 33.195 16.9804C33.3434 17.0737 33.4621 17.1981 33.5512 17.3535L34.1745 18.7525L35.5102 19.4053C35.5993 19.4675 35.7625 19.7473 36 20.2447C36 20.4001 35.9555 20.5556 35.8664 20.711C35.7774 20.8664 35.6586 20.9908 35.5102 21.0841L34.1745 21.7369L33.5512 23.1359C33.4918 23.2291 33.2247 23.4001 32.7498 23.6488ZM11.1557 36.0996C10.7105 36.0996 10.3246 35.9442 9.99807 35.6333C9.67157 35.3224 9.47863 34.9338 9.41927 34.4675L9.06307 31.7162C8.82561 31.6229 8.59587 31.4986 8.37385 31.3431C8.15063 31.1877 7.96482 31.0323 7.81641 30.8768L5.3676 31.996C4.95204 32.2136 4.52936 32.2447 4.09956 32.0892C3.66857 31.9338 3.33434 31.6385 3.09688 31.2032L0.247355 25.9804C0.00989416 25.5763 -0.0565947 25.1411 0.0478879 24.6747C0.151183 24.2084 0.380926 23.8354 0.737117 23.5556L2.82974 21.9234V20.4312L0.737117 18.7991C0.380926 18.5193 0.151183 18.1462 0.0478879 17.6799C-0.0565947 17.2136 0.00989416 16.7784 0.247355 16.3742L3.09688 11.1514C3.33434 10.7162 3.66857 10.4209 4.09956 10.2654C4.52936 10.11 4.95204 10.1411 5.3676 10.3587L7.81641 11.4778C7.96482 11.3224 8.15063 11.167 8.37385 11.0115C8.59587 10.8561 8.82561 10.7317 9.06307 10.6385L9.41927 7.88717C9.47863 7.42085 9.67157 7.03225 9.99807 6.72137C10.3246 6.41049 10.7105 6.25505 11.1557 6.25505H16.9438C17.389 6.25505 17.7749 6.41049 18.1014 6.72137C18.4279 7.03225 18.6209 7.42085 18.6802 7.88717L19.0364 10.6385C19.2739 10.7317 19.5042 10.8561 19.7274 11.0115C19.9494 11.167 20.1347 11.3224 20.2831 11.4778L22.7319 10.3587C23.1474 10.1411 23.5707 10.11 24.0017 10.2654C24.4315 10.4209 24.7651 10.7162 25.0026 11.1514L27.8521 16.3742C28.0896 16.7784 28.1567 17.2136 28.0534 17.6799C27.9489 18.1462 27.7186 18.5193 27.3624 18.7991L25.2698 20.4312V21.9234L27.3624 23.5556C27.7186 23.8354 27.9489 24.2084 28.0534 24.6747C28.1567 25.1411 28.0896 25.5763 27.8521 25.9804L25.0026 31.2032C24.7651 31.6385 24.4315 31.9338 24.0017 32.0892C23.5707 32.2447 23.1474 32.2136 22.7319 31.996L20.2831 30.8768C20.1347 31.0323 19.9494 31.1877 19.7274 31.3431C19.5042 31.4986 19.2739 31.6229 19.0364 31.7162L18.6802 34.4675C18.6209 34.9338 18.4279 35.3224 18.1014 35.6333C17.7749 35.9442 17.389 36.0996 16.9438 36.0996H11.1557ZM14.0497 26.7732C15.5339 26.7732 16.7954 26.2291 17.8343 25.1411C18.8732 24.053 19.3926 22.7317 19.3926 21.1773C19.3926 19.6229 18.8732 18.3017 17.8343 17.2136C16.7954 16.1255 15.5339 15.5815 14.0497 15.5815C12.5656 15.5815 11.3041 16.1255 10.2652 17.2136C9.22633 18.3017 8.70688 19.6229 8.70688 21.1773C8.70688 22.7317 9.22633 24.053 10.2652 25.1411C11.3041 26.2291 12.5656 26.7732 14.0497 26.7732ZM14.0497 23.0426C13.5451 23.0426 13.1219 22.8635 12.7799 22.5054C12.4392 22.1485 12.2688 21.7058 12.2688 21.1773C12.2688 20.6488 12.4392 20.2055 12.7799 19.8474C13.1219 19.4905 13.5451 19.312 14.0497 19.312C14.5543 19.312 14.9776 19.4905 15.3196 19.8474C15.6603 20.2055 15.8307 20.6488 15.8307 21.1773C15.8307 21.7058 15.6603 22.1485 15.3196 22.5054C14.9776 22.8635 14.5543 23.0426 14.0497 23.0426ZM12.714 32.369H15.3855L15.7417 29.0115C16.6024 28.7628 17.3374 28.4445 17.9465 28.0565C18.5544 27.6673 19.1551 27.1462 19.7488 26.4934L22.6874 27.8924L23.934 25.5608L21.3517 23.5089C21.5891 22.7939 21.7078 22.0167 21.7078 21.1773C21.7078 20.338 21.5891 19.5608 21.3517 18.8457L23.934 16.7939L22.6874 14.4623L19.7488 15.8613C19.1551 15.2084 18.5544 14.6874 17.9465 14.2982C17.3374 13.9102 16.6024 13.5918 15.7417 13.3431L15.3855 9.98562H12.714L12.3578 13.3431C11.497 13.5918 10.7627 13.9102 10.1548 14.2982C9.54571 14.6874 8.94434 15.2084 8.35069 15.8613L5.41212 14.4623L4.16545 16.7939L6.74784 18.8457C6.51037 19.5608 6.38452 20.338 6.37027 21.1773C6.35484 22.0167 6.48069 22.7939 6.74784 23.5089L4.16545 25.5608L5.41212 27.8924L8.35069 26.4934C8.94434 27.1462 9.54571 27.6673 10.1548 28.0565C10.7627 28.4445 11.497 28.7628 12.3578 29.0115L12.714 32.369Z"
                    fill="#FFC107"
                  />
                </svg>
              </div>
              <div className="card">
                <div className="text">
                  <h4 className="title">Professeur validé</h4>
                  <span className="def">
                    <img src="../assets/down.svg" />
                    -3.5%
                  </span>
                </div>
                <h3 className="value">{data.abonnementValideCount}</h3>
                <svg
                  width="40"
                  height="40"
                  viewBox="0 0 40 40"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M23.6 33.287C30.3878 33.287 33.7826 33.287 35.8904 31.0025C38 28.72 38 25.0438 38 17.6933C38 10.3428 38 6.66661 35.8904 4.38409C33.7826 2.09961 30.3878 2.09961 23.6 2.09961H16.4C9.6122 2.09961 6.2174 2.09961 4.1096 4.38409C2 6.66661 2 10.3428 2 17.6933C2 25.0438 2 28.72 4.1096 31.0025C5.285 32.2773 6.86 32.8406 9.2 33.0882"
                    stroke="#4DC643"
                    strokeWidth="3"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                  <path
                    d="M14.6 17.6943L18.65 21.5927L25.4 13.7959"
                    stroke="#4DC643"
                    strokeWidth="3"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                  <path
                    d="M23.6 33.2861C21.3752 33.2861 18.9236 34.2607 16.6862 35.518C13.0898 37.5393 11.2916 38.5509 10.406 37.9058C9.52036 37.2625 9.68776 35.2646 10.0244 31.2706L10.1 30.3623"
                    stroke="#4DC643"
                    strokeWidth="3"
                    strokeLinecap="round"
                  />
                </svg>
              </div>
            </div>
          </div>
          <div className="admin_cards_list">
            <h3 className="list_label">Cours</h3>
            <div className="cards_container">
              <div className="card">
                <div className="text">
                  <h4 className="title">Cours termminés</h4>
                  <span className="def pos">
                    <img src="../assets/up.svg" />
                    -3.5%
                  </span>
                </div>
                <h3 className="value">{data.coursTermineCount}</h3>
                <svg
                  width="36"
                  height="46"
                  viewBox="0 0 36 46"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M14.7272 29.8178L8.85268 24.0482L6.54541 26.3142L14.7272 34.3499L29.4545 19.8857L27.1472 17.6035L14.7272 29.8178Z"
                    fill="#4DC643"
                  />
                  <path
                    d="M32.7273 5.42104H27.8182V3.81389C27.8182 2.96141 27.4734 2.14385 26.8596 1.54105C26.2459 0.938256 25.4134 0.599609 24.5455 0.599609H11.4545C10.5866 0.599609 9.75413 0.938256 9.14038 1.54105C8.52662 2.14385 8.18182 2.96141 8.18182 3.81389V5.42104H3.27273C2.40475 5.42104 1.57231 5.75968 0.958559 6.36248C0.344804 6.96528 0 7.78284 0 8.63532V42.3853C0 43.2378 0.344804 44.0554 0.958559 44.6582C1.57231 45.261 2.40475 45.5996 3.27273 45.5996H32.7273C33.5953 45.5996 34.4277 45.261 35.0414 44.6582C35.6552 44.0554 36 43.2378 36 42.3853V8.63532C36 7.78284 35.6552 6.96528 35.0414 6.36248C34.4277 5.75968 33.5953 5.42104 32.7273 5.42104ZM11.4545 3.81389H24.5455V10.2425H11.4545V3.81389ZM32.7273 42.3853H3.27273V8.63532H8.18182V13.4568H27.8182V8.63532H32.7273V42.3853Z"
                    fill="#4DC643"
                  />
                </svg>
              </div>
              <div className="card">
                <div className="text">
                  <h4 className="title">Cours annulés</h4>
                  <span className="def">
                    <img src="../assets/down.svg" />
                    -3.5%
                  </span>
                </div>
                <h3 className="value">{data.coursAnnuleCount}</h3>
                <svg
                  width="36"
                  height="37"
                  viewBox="0 0 36 37"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10.26 25.8396C10.59 26.1696 11.01 26.3346 11.52 26.3346C12.03 26.3346 12.45 26.1696 12.78 25.8396L18 20.6196L23.265 25.8846C23.595 26.2146 24.0078 26.3718 24.5034 26.3562C24.9978 26.3418 25.41 26.1696 25.74 25.8396C26.07 25.5096 26.235 25.0896 26.235 24.5796C26.235 24.0696 26.07 23.6496 25.74 23.3196L20.52 18.0996L25.785 12.8346C26.115 12.5046 26.2722 12.0918 26.2566 11.5962C26.2422 11.1018 26.07 10.6896 25.74 10.3596C25.41 10.0296 24.99 9.86461 24.48 9.86461C23.97 9.86461 23.55 10.0296 23.22 10.3596L18 15.5796L12.735 10.3146C12.405 9.98461 11.9928 9.82681 11.4984 9.84121C11.0028 9.85681 10.59 10.0296 10.26 10.3596C9.93 10.6896 9.765 11.1096 9.765 11.6196C9.765 12.1296 9.93 12.5496 10.26 12.8796L15.48 18.0996L10.215 23.3646C9.885 23.6946 9.7278 24.1068 9.7434 24.6012C9.7578 25.0968 9.93 25.5096 10.26 25.8396ZM18 36.0996C15.51 36.0996 13.17 35.6268 10.98 34.6812C8.79 33.7368 6.885 32.4546 5.265 30.8346C3.645 29.2146 2.3628 27.3096 1.4184 25.1196C0.4728 22.9296 0 20.5896 0 18.0996C0 15.6096 0.4728 13.2696 1.4184 11.0796C2.3628 8.88961 3.645 6.98461 5.265 5.36461C6.885 3.74461 8.79 2.46181 10.98 1.51621C13.17 0.571809 15.51 0.0996094 18 0.0996094C20.49 0.0996094 22.83 0.571809 25.02 1.51621C27.21 2.46181 29.115 3.74461 30.735 5.36461C32.355 6.98461 33.6372 8.88961 34.5816 11.0796C35.5272 13.2696 36 15.6096 36 18.0996C36 20.5896 35.5272 22.9296 34.5816 25.1196C33.6372 27.3096 32.355 29.2146 30.735 30.8346C29.115 32.4546 27.21 33.7368 25.02 34.6812C22.83 35.6268 20.49 36.0996 18 36.0996ZM18 32.4996C21.99 32.4996 25.3878 31.0974 28.1934 28.293C30.9978 25.4874 32.4 22.0896 32.4 18.0996C32.4 14.1096 30.9978 10.7118 28.1934 7.90621C25.3878 5.10181 21.99 3.69961 18 3.69961C14.01 3.69961 10.6128 5.10181 7.8084 7.90621C5.0028 10.7118 3.6 14.1096 3.6 18.0996C3.6 22.0896 5.0028 25.4874 7.8084 28.293C10.6128 31.0974 14.01 32.4996 18 32.4996Z"
                    fill="#FF4593"
                  />
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div className="admin_section">
        <div className="admin_sections_header">
          <h2 className="admin_section_title">Statistique de paiement</h2>
          <div className="admin_time_filter">
            <div className="radio_container">
              <input
                type="radio"
                name="date_range"
                value="Semaine"
                onChange={() => {
                  setLastFourMonths(false);
                  setLastFourWeeks(true);
                }}
              />
              <label htmlFor="date_range">Semaine</label>
            </div>
            <div className="radio_container">
              <input
                type="radio"
                name="date_range"
                value="Mois"
                onChange={() => {
                  setLastFourWeeks(false);
                  setLastFourMonths(true);
                }}
              />
              <label htmlFor="date_range">Mois</label>
            </div>
          </div>
        </div>
        <div className="paiment_section">
          <div className="paiment_chart_container">
            {loading ? (
              <div
                className="spinner-container"
                style={{
                  margin: "auto",
                }}
              >
                <div className="loading-spinner"></div>
              </div>
            ) : (
              <>
                <PaymentChart
                  startDate={startDate}
                  endDate={endDate}
                  lastFourWeeks={lastFourWeeks}
                  lastFourMonths={lastFourMonths}
                  date={date}
                  weeks={weeks}
                  months={months}
                />
                <div className="legends">
                  <div className="legend">
                    <div style={{ backgroundColor: "#0BA5EC" }}></div>
                    <span>Solde globale</span>
                  </div>

                  <div className="legend">
                    <div style={{ backgroundColor: "#28D6D8" }}></div>
                    <span>Solde professeurs</span>
                  </div>

                  <div className="legend">
                    <div style={{ backgroundColor: "#7CD4FD" }}></div>
                    <span>Solde plateforme</span>
                  </div>
                </div>
              </>
            )}
          </div>
          <div className="paiment_card_illustraion_container">
            <div className="paiment_card_illustraion">
              <div className="top_text">
                <h5>
                  <span>Solde actuel</span>
                </h5>
                <h2 className="the_value">{data.balance} €</h2>
                <img
                  className="the_card_illustraion"
                  src="../assets/IllustrationCard.png"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </>
  );
};

export default BoardPage;
